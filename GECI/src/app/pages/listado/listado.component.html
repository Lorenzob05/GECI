<app-header></app-header>
<div class="breadcrumb">
    <a href="#">Inicio > Gestión de solicitudes</a>
</div>
<h1>Gestión de solicitudes</h1>

<div class="page-container">
    <app-sidebar (filterChanged)="applyFilter($event)"></app-sidebar>
    
    <div class="content">
      
      
      <mat-table [dataSource]="dataSource" >
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <mat-header-cell *matHeaderCellDef> ID de Solicitud </mat-header-cell>
          <mat-cell *matCellDef="let solicitud"> {{solicitud.id}} </mat-cell>
        </ng-container>
  
        <!-- Fecha -->
        <ng-container matColumnDef="date">
          <mat-header-cell *matHeaderCellDef> Fecha </mat-header-cell>
          <mat-cell *matCellDef="let solicitud"> {{solicitud.date}} </mat-cell>
        </ng-container>
  
        <!-- Estado -->
        <ng-container matColumnDef="status">
          <mat-header-cell *matHeaderCellDef> Estado </mat-header-cell>
          <mat-cell *matCellDef="let solicitud">
            <span [class]="getStatusClass(solicitud.status)">
              {{solicitud.status}}
            </span>
          </mat-cell>
        </ng-container>
  
        <!-- Comentario -->
        <ng-container matColumnDef="comment">
            <mat-header-cell *matHeaderCellDef> Comentario </mat-header-cell>
            <mat-cell *matCellDef="let solicitud">
              <mat-form-field appearance="outline">
                <input matInput 
                       [(ngModel)]="solicitud.comment" 
                       placeholder="Añadir comentario"
                       (submit)="saveComment(solicitud)">
              </mat-form-field>
            </mat-cell>
          </ng-container>
  
        <!-- Acciones -->
        <ng-container matColumnDef="actions">
          <mat-header-cell *matHeaderCellDef> Acciones </mat-header-cell>
          <mat-cell *matCellDef="let solicitud">
            <button mat-icon-button >
              <mat-icon>visibility</mat-icon>
            </button>
            <button mat-icon-button >
              <mat-icon onclick="saveComment(solicitud)">edit</mat-icon>
            </button>
            <button mat-icon-button >
                <mat-icon>archive</mat-icon>
              </button>
          </mat-cell>
        </ng-container>
  
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>
    </div>
  </div>

<app-footer></app-footer>